{%- comment -%}
  Hero Section - Terminal CLI Design System
{%- endcomment -%}

<div class="section hero-section{% if section.settings.full_width %} hero-section--full-width{% endif %}">
  <div class="container">
    <div class="terminal-window hero-window">
      <div class="terminal-header-bar">
        <div class="terminal-window-controls">
          <div class="terminal-control close" aria-hidden="true"></div>
          <div class="terminal-control minimize" aria-hidden="true"></div>
          <div class="terminal-control maximize" aria-hidden="true"></div>
        </div>
        <p class="terminal-window-title">~/welcome</p>
      </div>
      <div class="terminal-window-content hero-content">
        <div class="hero-grid">
          <div class="hero-text-wrapper">
            {% render 'command-prompt', user: 'root', directory: '~', command: './init.sh' %}
            
            <div class="hero-boot-output">
              <p class="terminal-output-text success">[INFO] Initializing system...</p>
              <p class="terminal-output-text success">[SUCCESS] Loading premium tech products</p>
            </div>

            {% if section.settings.heading != blank %}
              <h1 class="hero-heading">
                <span class="glitch">{{ section.settings.heading }}</span>
                <span class="cursor"></span>
              </h1>
            {% else %}
              <h1 class="hero-heading">
                <span class="glitch">Premium Tech for Developers</span>
                <span class="cursor"></span>
              </h1>
            {% endif %}

            {% if section.settings.subheading != blank %}
              <p class="hero-subheading">{{ section.settings.subheading }}</p>
            {% else %}
              <p class="hero-subheading">
                Elevate your workspace with gear designed for those who code, build, and break things.
              </p>
            {% endif %}

            <div class="hero-actions">
              {% if section.settings.button_label_1 != blank and section.settings.button_link_1 != blank %}
                {% render 'terminal-button', text: section.settings.button_label_1, type: 'primary', url: section.settings.button_link_1 %}
              {% else %}
                {% render 'terminal-button', text: 'Shop Now', type: 'primary', url: '/collections/all' %}
              {% endif %}

              {% if section.settings.button_label_2 != blank and section.settings.button_link_2 != blank %}
                {% render 'terminal-button', text: section.settings.button_label_2, type: 'secondary', url: section.settings.button_link_2 %}
              {% else %}
                <a href="/pages/about" class="link hero-link">Learn more -></a>
              {% endif %}
            </div>

            {% if section.settings.show_stats %}
              <div class="hero-stats">
                <div class="stat-item">
                  <div class="stat-value glow">{{ section.settings.stat_1_value | default: '500+' }}</div>
                  <div class="stat-label">{{ section.settings.stat_1_label | default: 'Products' }}</div>
                </div>
                <div class="stat-item">
                  <div class="stat-value glow">{{ section.settings.stat_2_value | default: '50K+' }}</div>
                  <div class="stat-label">{{ section.settings.stat_2_label | default: 'Customers' }}</div>
                </div>
                <div class="stat-item">
                  <div class="stat-value glow">{{ section.settings.stat_3_value | default: '24/7' }}</div>
                  <div class="stat-label">{{ section.settings.stat_3_label | default: 'Support' }}</div>
                </div>
              </div>
            {% endif %}

            {% if section.settings.show_command_line %}
              <div class="hero-command-line">
                {% render 'command-prompt', user: 'user', directory: '~', command: '' %}
                <input 
                  type="text" 
                  class="hero-command-input input-field" 
                  placeholder="Type 'help' for commands..."
                  autocomplete="off"
                >
              </div>
            {% endif %}
          </div>

          {% if section.settings.image != blank %}
            <div class="hero-image-wrapper fade-in">
              <img 
                srcset="
                  {{ section.settings.image | image_url: width: 400 }} 400w,
                  {{ section.settings.image | image_url: width: 600 }} 600w,
                  {{ section.settings.image | image_url: width: 800 }} 800w,
                  {{ section.settings.image | image_url: width: 1000 }} 1000w
                "
                src="{{ section.settings.image | image_url: width: 800 }}"
                alt="{{ section.settings.image.alt | escape }}"
                width="{{ section.settings.image.width }}"
                height="{{ section.settings.image.height }}"
                loading="lazy"
                class="hero-image"
              >
            </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Hero section",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "checkbox",
      "id": "full_width",
      "default": true,
      "label": "Full width"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Premium Tech for Developers"
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "Subheading",
      "default": "Elevate your workspace with gear designed for those who code, build, and break things."
    },
    {
      "type": "text",
      "id": "button_label_1",
      "label": "Button 1 label",
      "default": "Shop Now"
    },
    {
      "type": "url",
      "id": "button_link_1",
      "label": "Button 1 link"
    },
    {
      "type": "text",
      "id": "button_label_2",
      "label": "Button 2 label",
      "default": "Learn More"
    },
    {
      "type": "url",
      "id": "button_link_2",
      "label": "Button 2 link"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "checkbox",
      "id": "show_stats",
      "default": true,
      "label": "Show statistics"
    },
    {
      "type": "text",
      "id": "stat_1_value",
      "label": "Stat 1 value",
      "default": "500+"
    },
    {
      "type": "text",
      "id": "stat_1_label",
      "label": "Stat 1 label",
      "default": "Products"
    },
    {
      "type": "text",
      "id": "stat_2_value",
      "label": "Stat 2 value",
      "default": "50K+"
    },
    {
      "type": "text",
      "id": "stat_2_label",
      "label": "Stat 2 label",
      "default": "Customers"
    },
    {
      "type": "text",
      "id": "stat_3_value",
      "label": "Stat 3 value",
      "default": "24/7"
    },
    {
      "type": "text",
      "id": "stat_3_label",
      "label": "Stat 3 label",
      "default": "Support"
    },
    {
      "type": "checkbox",
      "id": "show_command_line",
      "default": true,
      "label": "Show command line"
    }
  ],
  "presets": [
    {
      "name": "Hero section"
    }
  ]
}
{% endschema %}

{% stylesheet %}
.hero-section {
  padding: var(--spacing-64) 0;
}

.hero-section--full-width {
  padding: 0;
}

.hero-window {
  min-height: 600px;
}

.hero-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--spacing-48);
  align-items: center;
}

@media (min-width: 990px) {
  .hero-grid {
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-64);
  }
}

.hero-text-wrapper {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-24);
}

.hero-boot-output {
  background: var(--bg-primary);
  border: 1px solid var(--border-color);
  padding: var(--spacing-16);
  border-radius: 4px;
  font-size: 0.875rem;
}

.terminal-output-text {
  margin: 0;
  font-family: var(--font-mono);
}

.terminal-output-text.success {
  color: var(--accent-primary);
}

.hero-heading {
  font-size: 2rem;
  line-height: 1.2;
  margin: 0;
}

@media (min-width: 750px) {
  .hero-heading {
    font-size: 3rem;
  }
}

.hero-subheading {
  color: var(--text-secondary);
  line-height: 1.6;
  margin: 0;
}

.hero-actions {
  display: flex;
  gap: var(--spacing-16);
  flex-wrap: wrap;
}

.hero-link {
  display: inline-flex;
  align-items: center;
  padding: 12px 0;
}

.hero-stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--spacing-24);
  padding-top: var(--spacing-24);
  border-top: 1px solid var(--border-color);
}

.stat-item {
  text-align: center;
}

.stat-value {
  font-size: 2rem;
  font-weight: 700;
  margin-bottom: var(--spacing-8);
  display: block;
}

.stat-label {
  font-size: 0.875rem;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.hero-command-line {
  display: flex;
  align-items: center;
  gap: var(--spacing-16);
  padding: var(--spacing-16);
  background: var(--bg-primary);
  border: 1px solid var(--border-color);
  border-radius: 4px;
  margin-top: var(--spacing-24);
}

.hero-command-input {
  flex: 1;
  background: transparent;
  border: none;
}

.hero-image-wrapper {
  position: relative;
}

.hero-image {
  width: 100%;
  height: auto;
  display: block;
  border-radius: 8px;
  border: 1px solid var(--border-color);
}

@media (max-width: 989px) {
  .hero-stats {
    grid-template-columns: 1fr;
    gap: var(--spacing-16);
  }
  
  .stat-value {
    font-size: 1.5rem;
  }
  
  .hero-actions {
    flex-direction: column;
  }
  
  .hero-actions .btn,
  .hero-actions .link {
    width: 100%;
    justify-content: center;
  }
}

@media (max-width: 750px) {
  .hero-section {
    padding: var(--spacing-48) 0;
  }
  
  .hero-window {
    min-height: auto;
  }
  
  .hero-heading {
    font-size: 1.75rem;
  }
  
  .hero-subheading {
    font-size: 0.875rem;
  }
}
{% endstylesheet %}

{% javascript %}
document.addEventListener('DOMContentLoaded', function() {
  const commandInput = document.querySelector('.hero-command-input');
  
  if (commandInput) {
    const bootOutput = document.querySelector('.hero-boot-output');
    
    commandInput.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        const command = this.value.toLowerCase().trim();
        
        if (bootOutput) {
          const output = document.createElement('p');
          output.className = 'terminal-output-text';
          
          switch(command) {
            case 'help':
              output.innerHTML = '<span class="terminal-output-text success">Available: help, shop, about, contact, clear</span>';
              break;
            case 'shop':
              output.innerHTML = '<span class="terminal-output-text success">[SUCCESS] Redirecting to shop...</span>';
              setTimeout(() => {
                window.location.href = '/collections/all';
              }, 1000);
              break;
            case 'about':
              output.innerHTML = '<span class="terminal-output-text success">[SUCCESS] Redirecting to about...</span>';
              setTimeout(() => {
                window.location.href = '/pages/about';
              }, 1000);
              break;
            case 'contact':
              output.innerHTML = '<span class="terminal-output-text success">[SUCCESS] Redirecting to contact...</span>';
              setTimeout(() => {
                window.location.href = '/pages/contact';
              }, 1000);
              break;
            case 'clear':
              bootOutput.innerHTML = '';
              this.value = '';
              return;
            case '':
              return;
            default:
              output.innerHTML = `<span class="terminal-output-text error">[ERROR] Command not found: ${command}</span>`;
          }
          
          bootOutput.appendChild(output);
          this.value = '';
        }
      }
    });
  }
});
{% endjavascript %}
