<div class="container" style="padding-top: var(--spacing-2xl); padding-bottom: var(--spacing-3xl);">
  
  <!-- Header -->
  <div style="margin-bottom: var(--spacing-2xl);">
    <div class="command-prompt" style="margin-bottom: var(--spacing-lg);">
      <span class="prompt-user">user@terminal</span><span class="prompt-dir">:~/collections</span><span class="prompt-symbol">$</span> ls {{ collection.handle }}/
    </div>
    
    <h1 style="font-size: clamp(2rem, 5vw, 3rem); font-weight: 700; margin-bottom: var(--spacing-md);">
      {{ collection.title }}
    </h1>
    
    {% if collection.description != blank %}
      <div style="max-width: 800px; font-size: 1rem; color: var(--color-text-secondary); line-height: 1.6;">
        <span style="color: var(--color-primary);">&gt;</span> {{ collection.description }}
      </div>
    {% endif %}
    
    <div style="margin-top: var(--spacing-lg); font-size: 0.875rem; color: var(--color-text-muted);">
      Found {{ collection.products_count }} item{% if collection.products_count != 1 %}s{% endif %}
    </div>
  </div>
  
  <!-- Filters & Sort (Optional) -->
  {% if collection.products_count > 0 %}
    <div style="margin-bottom: var(--spacing-xl); display: flex; flex-wrap: wrap; align-items: center; justify-content: space-between; gap: var(--spacing-md);">
      <div class="command-prompt" style="font-size: 0.75rem;">
        <span class="prompt-symbol">$</span> ./filter --sort=name
      </div>
    </div>
  {% endif %}
  
  <!-- Products Grid -->
  {% if collection.products.size > 0 %}
    <div class="product-grid">
      {% for product in collection.products %}
        {% render 'product-card', product: product %}
      {% endfor %}
    </div>
    
    <!-- Pagination -->
    {% if paginate.pages > 1 %}
      <div style="margin-top: var(--spacing-3xl); text-align: center;">
        <div class="terminal-window" style="display: inline-block; padding: var(--spacing-lg);">
          <div class="command-prompt" style="margin-bottom: var(--spacing-md);">
            <span class="prompt-symbol">$</span> ./navigate --page={{ paginate.current_page }}
          </div>
          <div style="display: flex; gap: var(--spacing-sm); align-items: center;">
            {% if paginate.previous %}
              <a href="{{ paginate.previous.url }}" class="btn btn-secondary" style="padding: 8px 16px; font-size: 0.875rem;">
                &lt; Prev
              </a>
            {% endif %}
            <span style="font-size: 0.875rem; color: var(--color-text-secondary);">
              Page {{ paginate.current_page }} of {{ paginate.pages }}
            </span>
            {% if paginate.next %}
              <a href="{{ paginate.next.url }}" class="btn btn-secondary" style="padding: 8px 16px; font-size: 0.875rem;">
                Next &gt;
              </a>
            {% endif %}
          </div>
        </div>
      </div>
    {% endif %}
    
  {% else %}
    <!-- Empty State -->
    <div style="max-width: 600px; margin: var(--spacing-3xl) auto; text-align: center;">
      <div class="terminal-window" style="padding: var(--spacing-3xl);">
        <div class="command-prompt" style="margin-bottom: var(--spacing-lg); justify-content: center;">
          <span class="prompt-symbol">$</span> ls ./{{ collection.handle }}/
        </div>
        <div style="font-size: 0.875rem; color: var(--color-text-muted); margin-bottom: var(--spacing-md);">
          Output: 0 items found
        </div>
        <p style="color: var(--color-text-secondary); margin-bottom: var(--spacing-xl);">
          No products in this collection yet.
        </p>
        <a href="{{ routes.all_products_collection_url }}" class="btn btn-primary">
          ./browse-all-products
        </a>
      </div>
    </div>
  {% endif %}
  
</div>

{% paginate collection.products by 12 %}
  <!-- Pagination handled above -->
{% endpaginate %}

